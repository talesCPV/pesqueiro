<template>
    <style>
        .title{
            text-align: center;
            font-size: 1.5em;
        }
     
    </style>
    <table id="tblCardapio"></table>

</template>
<script>

    const pageData = main_data.cli_cardapio.data
    const pageFunc = main_data.cli_cardapio.func
    const pageScreen = document.querySelector('#card-cli_cardapio')
     
    pageFunc.fillCardapio = ()=>{

        const myPromisse = queryDB({},'CLI-1');
        myPromisse.then((resolve)=>{
            const json = JSON.parse(resolve)
            const tbl = pageScreen.querySelector('#tblCardapio')
            tbl.head('')
            let tipo = ''
            for(let i=0; i<json.length; i++){
                if(json[i].tipo != tipo){
                    tipo = json[i].tipo
                    const tr = document.createElement('tr')
                    tr.innerHTML = `<th colspan="3" class="title">${json[i].tipo.toUpperCase()}</th>`
                    tbl.appendChild(tr)
                }
                tbl.plot(json[i],'descricao,preco','Upp,R$.')
            }
        })
    }


    pageFunc.fillCardapio()

</script>